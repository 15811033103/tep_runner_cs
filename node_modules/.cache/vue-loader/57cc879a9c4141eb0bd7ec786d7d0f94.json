{"remainingRequest":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/chenshuai/Desktop/teprunner_cs/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true","dependencies":[{"path":"/Users/chenshuai/Desktop/teprunner_cs/src/views/Login.vue","mtime":1640854066103},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenshuai/Desktop/teprunner_cs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbi1ib2R5IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgbWluLWhlaWdodDogNjAwcHg7CiAgbWluLXdpZHRoOiA0ODBweDsKfQoubG9naW4tYm94IHsKICB3aWR0aDogNDgwcHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBvdmVyZmxvdzogaGlkZGVuOwogIGhlaWdodDogNjAwcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IDEzOwogIGxlZnQ6IDA7CiAgdG9wOiA1MCU7CiAgbWFyZ2luOiAtMzAwcHggYXV0byAwOwp9Ci5sb2dpbi10aXRsZSB7CiAgZm9udC1zaXplOiAyNHB4OwogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwogIGxpbmUtaGVpZ2h0OiAzM3B4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW4tdG9wOiA2NHB4OwogIG1hcmdpbi1ib3R0b206IDMycHg7CiAgLmxvZ28tdGV4dCB7CiAgICBsaW5lLWhlaWdodDogMTsKICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICB9Cn0KLmxvZ2luLWxvZ28gewogIG1heC13aWR0aDogMTU5cHg7CiAgbWF4LWhlaWdodDogNTZweDsKfQouZm9ybS1ib3ggewogIG1hcmdpbjogMCA3MHB4Owp9Ci5mb3JtLXRpdGxlIHsKICBmb250LXNpemU6IDIwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgcGFkZGluZy10b3A6IDU1cHg7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgY29sb3I6ICMzYWFhZjU7Cn0KLmZvcmdldFB3ZCB7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtc2l6ZTogMTJweDsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjY1KTsKICAmOmhvdmVyIHsKICAgIGNvbG9yOiAjMzY0MmZmOwogIH0KfQoucmVtZW1iZXItY2hlY2tib3ggewogIDo6di1kZWVwLmVsLWNoZWNrYm94X19sYWJlbCB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjY1KSAhaW1wb3J0YW50OwogIH0KfQoubG9naW4tYnRuIHsKICB3aWR0aDogMTAwJTsKICBtYXJnaW4tdG9wOiAxNnB4Owp9Cg=="},{"version":3,"sources":["/Users/chenshuai/Desktop/teprunner_cs/src/views/Login.vue"],"names":[],"mappings":"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","file":"/Users/chenshuai/Desktop/teprunner_cs/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"login-body\" >\n    <div class=\"login-box\">\n      <div class=\"login-title\">\n        <img class=\"login-logo\"  />\n        <p>测试平台</p>\n      </div>\n      <div class=\"login-info\">\n        <el-form ref=\"form\" class=\"form-box\" :model=\"form\" :rules=\"formRules\">\n          <el-form-item label=\"用户名\" prop=\"username\">\n            <el-input\n              v-model=\"form.username\"\n              placeholder=\"请输入用户名\"\n              @keyup.enter.native=\"login\"\n              ref=\"username-input\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input\n              v-model=\"form.password\"\n              placeholder=\"请输入密码\"\n              type=\"password\"\n              show-password\n              @keyup.enter.native=\"login\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item>\n            <div class=\"clear\">\n              <el-checkbox\n                v-model=\"form.rememberMe\"\n                :value=\"true\"\n                label=\"记住密码\"\n                name=\"type\"\n                class=\"remember-checkbox\"\n              ></el-checkbox>\n              <span class=\"self-right forgetPwd\" @click=\"forgetPwd\">忘记密码？</span>\n            </div>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"login\" class=\"login-btn\" :loading=\"isLoging\">\n              {{ \"登录\" }}\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        rememberMe: true,\n      },\n      formRules: {\n        username: [{ required: true, message: \"请输入用户名\", trigger: \"blur\" }],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n      },\n      isLoging: false,\n    };\n  },\n  created() {\n    localStorage.removeItem(\"userInfo\");\n    localStorage.removeItem(\"token\");\n    let oldLoginTime = localStorage.getItem(\"loginTime\") - 0;\n    let sevenDay = new Date().setDate(new Date().getDate() - 7);\n    if (sevenDay > oldLoginTime) {\n      localStorage.removeItem(\"loginInfo\");\n      localStorage.removeItem(\"loginTime\");\n      return false;\n    }\n    let loginInfoLocal = localStorage.getItem(\"loginInfo\");\n    if (loginInfoLocal) {\n      let loginInfo = JSON.parse(loginInfoLocal);\n      this.form = {\n        username: loginInfo.username,\n        password: loginInfo.password,\n        rememberMe: Boolean(loginInfo.rememberMe),\n      };\n    }\n  },\n  mounted() {\n    let autofocusElement = this.$refs[\"username-input\"];\n    if (autofocusElement) {\n      autofocusElement.focus();\n    }\n  },\n  methods: {\n    login() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.isLoging = true;\n          let params = {\n            username: this.form.username.replace(/\\s*/g, \"\"),\n            password: this.form.password,\n          };\n          this.$http\n            .post(\"/users/login\", params, {\n              headers: {\n                Authorization: \"none\",\n              },\n            })\n            .then(res => {\n              let { data } = res;\n              if (data.token) {\n                localStorage.setItem(\"token\", data.token);\n                localStorage.setItem(\"userInfo\", JSON.stringify(data.user));\n                localStorage.setItem(\"authMenus\", JSON.stringify(data.auth || []));\n                this.setUserInfo();\n                this.$router.push(\"/\");\n              }\n            })\n            .finally(() => {\n              this.isLoging = false;\n            });\n        }\n      });\n    },\n    setUserInfo() {\n      if (this.form.rememberMe) {\n        localStorage.setItem(\"loginInfo\", JSON.stringify(this.form));\n        localStorage.setItem(\"loginTime\", new Date().getTime().toLocaleString());\n      } else {\n        localStorage.removeItem(\"loginInfo\");\n        localStorage.removeItem(\"loginTime\");\n      }\n      return true;\n    },\n    forgetPwd() {\n      this.$alert(\"请联系管理员进行密码重置！\", \"提示\", {\n        confirmButtonText: \"确定\",\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login-body {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  min-height: 600px;\n  min-width: 480px;\n}\n.login-box {\n  width: 480px;\n  background: #fff;\n  overflow: hidden;\n  height: 600px;\n  position: relative;\n  z-index: 13;\n  left: 0;\n  top: 50%;\n  margin: -300px auto 0;\n}\n.login-title {\n  font-size: 24px;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 33px;\n  text-align: center;\n  margin-top: 64px;\n  margin-bottom: 32px;\n  .logo-text {\n    line-height: 1;\n    margin-top: 16px;\n    font-size: 16px;\n    color: rgba(0, 0, 0, 0.45);\n  }\n}\n.login-logo {\n  max-width: 159px;\n  max-height: 56px;\n}\n.form-box {\n  margin: 0 70px;\n}\n.form-title {\n  font-size: 20px;\n  text-align: center;\n  font-weight: 700;\n  padding-top: 55px;\n  padding-bottom: 20px;\n  color: #3aaaf5;\n}\n.forgetPwd {\n  cursor: pointer;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n  &:hover {\n    color: #3642ff;\n  }\n}\n.remember-checkbox {\n  ::v-deep.el-checkbox__label {\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.65) !important;\n  }\n}\n.login-btn {\n  width: 100%;\n  margin-top: 16px;\n}\n</style>\n"]}]}